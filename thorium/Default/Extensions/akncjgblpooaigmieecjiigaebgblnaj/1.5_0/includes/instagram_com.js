!function(e){function t(t){for(var n,o,s=t[0],d=t[1],c=t[2],l=0,f=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var d=r[s];0!==a[d]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={3:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=d;i.push([126,0]),r()}({126:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r(10),i=r(5),o=r.n(i),s=r(0),d=r(2),c=r(38),u=/^[^{]+\{\s*\[native \w/,l=function(e,t){return(l=u.test(document.compareDocumentPosition)||u.test(document.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1}).apply(this,arguments)},f=function(e,t){return l(e,t)},p=r(3),v=r(16),h=r(25),m=r(15),b=r(19),g=r(29),y=r(45),S=r(20),k=r(8),w=r(24),x=r(11),_=r(32),O=r(21),j=r(13),B=r(26),C=r(54),I=Object(x.a)("instagram");h.a.isSingle()&&Object(S.b)("instagram",(function(e,t){var r=Object(b.a)(t),i=t.preferences,c=i.moduleInstagram?1:0,u={"x-asbd-id":"198387","x-ig-app-id":"936619743392459","x-ig-www-claim":"0"},l={},h=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome");s.a.onMessage.addListener((function(t,r,n){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return n({state:c,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return N.changeState(t.state)}if("updatePreferences"!==t.action){if(c)return"updateLinks"===t.action?N.updateLinks():void 0}else Object.assign(i,t.preferences)})),c&&setTimeout((function(){N.run()}));var S,x,N={urlR:/\/\/[^\/]+\.[^\/]+\/p\//,lastWaitEl:null,dlBtnClassName:"savefrom-helper--btn",styleEl:null,queryHash:window.localStorage.getItem("_sf_query_hash")||"a9441f24ac73000fa17fe6e6da11d59d",run:function(){c=1,this.insertStyle(),m.a.isAvailable()&&this.mutationMode.enable()},rmStyle:function(){this.styleEl&&this.styleEl.parentNode&&this.styleEl.parentNode.removeChild(this.styleEl)},insertStyle:function(){this.styleEl?this.styleEl.parentNode||document.head.appendChild(this.styleEl):(this.styleEl=d.a.create("style",{text:Object(v.a)([{selector:"."+this.dlBtnClassName,style:{display:"none",border:"1px solid #F8F8F8",top:"8px",right:"8px",padding:0,position:"absolute",backgroundColor:"#F8F8F8",cursor:"pointer",lineHeight:0}},{selector:"."+this.dlBtnClassName+" svg",style:{margin:"2px"}},{selector:"."+this.dlBtnClassName+" svg path",style:{fill:"#777777"}},{selector:".Embed ."+this.dlBtnClassName,style:{border:"1px solid #B5B5B5",borderRadius:"4px",padding:"3px"}},{selector:"."+this.dlBtnClassName+":hover svg path",style:{fill:"#3f729b"}},{selector:"."+this.dlBtnClassName+":active",style:{outline:0,boxShadow:"inset 0 3px 5px rgba(0, 0, 0, 0.125)"}},{selector:["*:hover > ."+this.dlBtnClassName,"*.sf-touch-show > ."+this.dlBtnClassName],style:{display:"block"}},{selector:"*.sf-touch-hide > ."+this.dlBtnClassName,style:{display:"none"}}])}),document.head.appendChild(this.styleEl))},updateLinks:function(){this.changeState(0),this.changeState(1)},changeState:function(e){c=e,this.rmDlBtn(),this.rmStyle(),this.mutationMode.stop(),e&&this.run()},rmDlBtn:function(){for(var e,t=document.querySelectorAll("."+this.dlBtnClassName),r=0;e=t[r];r++)e.parentNode.removeChild(e)},requestApiEntity:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="https://www.instagram.com/graphql/query/?",a=new URLSearchParams({query_hash:N.queryHash,variables:JSON.stringify({shortcode:e})});return Object(_.a)({url:n+a.toString(),json:!0}).then((function(e){if(!e.body||!e.body.data||!e.body.data.shortcode_media)throw new Error("Request video from api failed. Empty body");return e.body.data.shortcode_media}),(function(n){if(400==n&&0===r)return t.refreshQueryHash().then((function(){return t.requestApiEntity(e,1)}))}))},prepVideoFromResponseApi:function(e,t){var r;if("GraphVideo"===t.__typename&&t.video_url){var n=t.title||t.id||"video_instagram";return{filename:k.a.modify("".concat(n,".mp4")),url:t.video_url}}var a=t.edge_sidecar_to_children.edges.shift().node;if("GraphSidecar"===t.__typename&&"GraphImage"!==(null==a?void 0:a.__typename)){var i=t.title||a.id||"video_instagram";return{filename:k.a.modify("".concat(i,".mp4")),url:a.video_url}}if("GraphSidecar"===t.__typename&&null!==(r=t.edge_sidecar_to_children)&&void 0!==r&&r.edges){var o=t.edge_sidecar_to_children.edges;if(!o.length)return;var s=e.getAttribute("poster");if(!s)return;var d=o.find((function(e){return e.node.display_url.split("?")[0]===s.split("?")[0]}));if(d&&"GraphVideo"===d.node.__typename)return this.prepVideoFromResponseApi(e,d.node)}},refreshQueryHash:function(){return Object(a.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=document.querySelector('link[href*="Consumer.js/"]'))||!t.href){e.next=5;break}return e.abrupt("return",Object(_.a)(t.href).then((function(e){var t=e.body.match(/s="(\w+)",l=/);t&&t[1]&&(N.queryHash=t[1],window.localStorage.setItem("_sf_query_hash",t[1]),I.info("new query hash",N.queryHash))})));case 5:I.error("Consumer.js not found. refreshQueryHash error");case 6:return e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}}),e)})))()},getVideoInfo:(x=Object(a.a)(o.a.mark((function e(t){var r,n,a,i,s,d,c,u,l,f,p,v,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof(r=t.getAttribute("src"))&&-1===r.indexOf("blob:")){e.next=19;break}if((n=N.getArticleIdFromURL(location.href))||(a=t.closest(".sf-root-media-container"))&&(n=N.getArticleIdFromContainer(a)),n&&-1===n.indexOf("/")||(i=t.closest("article"),(s=i&&i.querySelector('a[href*="/liked_by"]'))&&(d=s.href.match(/\/p\/(.*?)\/liked_by/))&&d[1]&&(n=d[1])),!n||-1!==n.indexOf("/")){e.next=18;break}return e.prev=6,e.next=9,this.requestApiEntity(n);case 9:return c=e.sent,u=this.prepVideoFromResponseApi(t,c),l=u.filename,f=u.url,e.abrupt("return",{filename:l,url:f});case 14:return e.prev=14,e.t0=e.catch(6),I.error("Get Video from api error: ",e.t0,t),e.abrupt("return");case 18:return e.abrupt("return");case 19:return p="mp4",-1!==r.indexOf(".flv")&&(p="flv"),(v=(v=r.match(/\/([^\/?]+)(?:$|\?)/))&&v[1])||(v="noname."+p),h=(h=k.a.modify(N.getContentMakerName(t)))?h+"_":"",e.abrupt("return",{filename:h+v,url:r});case 27:case"end":return e.stop()}}),e,this,[[6,14]])}))),function(e){return x.apply(this,arguments)}),getImageInfo:function(e){var t=null,r=e.getAttribute("srcset");if("string"==typeof r){var n=[];r.split(",").map((function(e){var t=e.split(" ");n.push({url:t[0],size:t[1]})})),n.sort((function(e,t){return e.size>t.size?-1:1}));var a=n.shift();a&&(t=a.url)}if(t||(t=e.getAttribute("src")),"string"==typeof t){var i="jpg";-1!==t.indexOf(".png")&&(i="png");var o=t.match(/\/([^\/?]+)(?:$|\?)/);(o=o&&o[1])||(o="noname."+i);var s=k.a.modify(N.getContentMakerName(e));return{filename:(s=s?s+"_":"")+o,url:t}}},getContentMakerName:function(e){var t=e.closest("article");if(t){var r=t.querySelector("header span a");return r?r.textContent:""}return""},getDbBtnEl:function(e){Object(j.a)({category:"append",subcategory:"in",event:"b"});var t=d.a.create("a",{class:[this.dlBtnClassName],href:e.url,download:e.filename,title:s.a.i18n.getMessage("download"),style:{position:"absolute",zIndex:100},on:[["click",q],["mouseover",function(e){if(h){if(!e.altKey&&!e.ctrlKey)return e.preventDefault(),void Object(B.b)(t,{content:s.a.i18n.getMessage("downloadTitle"),defaultWidth:400,defaultHeight:60},{el:{className:"mp4",download:"mp4"}});Object(B.a)(t,{content:s.a.i18n.getMessage("downloadTitle"),defaultWidth:400,defaultHeight:60})}}]],append:[r.svg.getSvg("download",null,16,16)]});return t},showOnTouch:function(e,t){if(!(e.dataset.sfTouch>0)){var r=!1,n=null,a=function(){r&&(clearTimeout(n),n=setTimeout((function(){r&&(r=!1,e.classList.remove("sf-touch-show"),e.classList.add("sf-touch-hide"))}),3e3))};d.a.create(e,{data:{sfTouch:"1"},on:[["touchstart",function(t){r||(r=!0,e.classList.remove("sf-touch-hide"),e.classList.add("sf-touch-show"))}],["touchend",function(e){a()}]]})}},getArticleIdFromURL:function(e){var t=e.split("?")[0].match(/(?:\/p|\/tv)\/(.*)/);if(t&&t[1])return t[1].replace("/","")},getArticleIdFromContainer:function(e){var t=e.closest("article");if(t){var r=t.querySelector('a[href*="/p/"], a[href*="/tv/"]');if(r)return N.getArticleIdFromURL(r.href)}},addDlBtn:(S=Object(a.a)(o.a.mark((function e(t,r,n){var i,s,c,u,l,v,h,m,b,g,S,k=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="embed"===r,s=t,c=null,t.classList.add("sf-root-media-container"),(u=t.querySelector("div > div > video"))||"video"!==n.tagName||"strangeVideo"!==r||(u=n),!u){e.next=10;break}return e.next=9,this.getVideoInfo(u);case 9:c=e.sent;case 10:if(c||(i?(l=s.querySelector(".EmbedFrame img.EmbeddedMediaImage"))&&(c=this.getImageInfo(l)):(l=s.querySelector("div > img[src][srcset]"))?c=this.getImageInfo(l):(l=s.querySelector("div > img"),c=l&&this.getImageInfo(l),!l||"hidden"!==l.style.visibility&&l.src||(v=new y.a({target:l,attrs:[{name:"src",callback:function(e){e.value&&(k.addDlBtn(t,r,n),v.stop())}}]})))),c){e.next=13;break}return e.abrupt("return");case 13:h=this.getDbBtnEl(c),m="",b=null,l?(m="image",b=l):(m="video",b=u),g=new y.a({target:b,attrs:[{name:"src",callback:function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.value===c.url){e.next=10;break}if(c=null,"image"!==m){e.next=6;break}c=k.getImageInfo(b),e.next=9;break;case 6:return e.next=8,k.getVideoInfo(b);case 8:c=e.sent;case 9:c&&h.parentNode?(h.href=c.url,h.download=c.filename):g.stop();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}),p.a.onRemoveEvent(b,(function(){f(document.body,n)&&(n.dataset.sfSkip=0,N.mutationMode.observer.trigger(n))})),i&&(S=document.querySelector(".Header"))&&(s=S,d.a.create(h,{style:{position:"relative",zIndex:100,display:"block",left:"auto",top:"auto",marginLeft:"10px"}})),s.appendChild(h),this.showOnTouch(s,h);case 22:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return S.apply(this,arguments)}),parseStoryUrl:function(e){var t=!1,r=/instagram.com\/stories\/([^\/?]+)(?:\/(\d+))?(?:\/|\?|$)/.exec(e);r||(r=/instagram.com\/s\/[^\/?]+\?story_media_id=(\d+)_(\d+)/.exec(e),t=!0);var a=r,i=Object(n.a)(a,3);return{username:i[1],storyId:i[2],isImplicitHighlightUrl:t}},getRedirectedUrl:function(e){return Object(a.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.a)(e,{headers:u});case 2:return r=t.sent,t.abrupt("return",r.responseURL);case 4:case"end":return t.stop()}}),t)})))()},getInfoAboutStoryUrl:function(e){var t=this;return Object(a.a)(o.a.mark((function r(){var n,a,i,s,d;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.parseStoryUrl(e),a=n.username,i=n.storyId,s=n.isImplicitHighlightUrl){r.next=3;break}return r.abrupt("return",{username:a,storyId:i,isImplicitHighlightUrl:s});case 3:return r.next=5,t.getRedirectedUrl(e);case 5:if(d=r.sent,e!==d){r.next=8;break}throw new ErrorWithCode("Url was not redirected","URL_WAS_NOT_REDIRECTED");case 8:return r.abrupt("return",t.parseStoryUrl(d));case 9:case"end":return r.stop()}}),r)})))()},getUserIdByUserName:function(e){return Object(a.a)(o.a.mark((function t(){var r,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.a)("https://www.instagram.com/stories/".concat(e,"/"),{headers:u});case 2:return n=t.sent,a=null===(r=n.body.match(/"props":\{"user":\{"id":"([0-9]+)"/i))||void 0===r?void 0:r[1],t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},parseStoriesResponse:function(e){var t,r,n;return e?((null===(t=JSON.parse(e))||void 0===t||null===(r=t.reels_media)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.items)||[]).map((function(e){return{pk:e.pk,video_versions:e.video_versions}})):[]},requestStoriesById:function(e){return Object(a.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.a)("https://i.instagram.com/api/v1/feed/reels_media/?reel_ids=".concat(encodeURIComponent(e)),{headers:u});case 2:return r=t.sent,t.abrupt("return",r.body);case 4:case"end":return t.stop()}}),t)})))()},getStoriesByUsername:function(e){var t=this;return Object(a.a)(o.a.mark((function r(){var n,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getUserIdByUserName(e);case 2:return n=r.sent,r.next=5,t.requestStoriesById(n);case 5:return a=r.sent,r.abrupt("return",t.parseStoriesResponse(a));case 7:case"end":return r.stop()}}),r)})))()},getHighlightStories:function(e){var t=this;return Object(a.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.requestStoriesById("highlight:".concat(e));case 2:return n=r.sent,r.abrupt("return",t.parseStoriesResponse(n));case 4:case"end":return r.stop()}}),r)})))()},getStoriesFromApi:function(e){var t=this;return Object(a.a)(o.a.mark((function r(){var n,a,i,s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getInfoAboutStoryUrl(e);case 2:if(n=r.sent,a=n.username,i=n.storyId,s=n.isImplicitHighlightUrl,"highlights"!==a&&!s){r.next=8;break}return r.abrupt("return",t.getHighlightStories(i));case 8:return r.abrupt("return",t.getStoriesByUsername(a));case 9:case"end":return r.stop()}}),r)})))()},setStoriesToBucket:function(e){e.forEach((function(e){var t=e.pk,r=e.video_versions;l[t]=null==r?void 0:r[0].url}))},getStoryFromBucket:function(e){var t=this;return Object(a.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l[e]){r.next=5;break}return r.next=3,t.getStoriesFromApi(location.href);case 3:n=r.sent,t.setStoriesToBucket(n);case 5:return r.abrupt("return",l[e]);case 6:case"end":return r.stop()}}),r)})))()},addBtnVideoStory:function(){var e=this,t=document.querySelector("section > div > header");if(t){var r=N.createStoryContainer(t);setTimeout(Object(a.a)(o.a.mark((function t(){var n,a,i,s,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.parseStoryUrl(location.href),a=n.storyId,t.next=3,e.getStoryFromBucket(a);case 3:i=t.sent,s=location.href.match(/stories\/(.*?)\/(\d+)/),"instagram_video_story",s&&s[1]&&s[2]&&[s[1],s[2]].join(" - "),(d=N.createStoryButton(i,"".concat(a,".mp4"))).addEventListener("click",q),r.appendChild(d);case 10:case"end":return t.stop()}}),t)}))),100)}},addBtnImageStory:function(e){var t=document.querySelector("section > div > header");if(t){var r=N.createStoryContainer(t);setTimeout((function(){var t;if(e.srcset){var n=e.srcset.split(",")[0];n&&(t=n.split(" ")[0])}if(t||(t=e.src),t){var a=location.href.match(/stories\/(.*?)\/(\d+)/),i="instagram_video_story";a&&a[1]&&a[2]&&(i=[a[1],a[2]].join(" - "));var o=N.createStoryButton(t,i+".jpg");o.addEventListener("click",q),r.appendChild(o)}}),100)}},createStoryContainer:function(e){if(e){var t=document.querySelector(".sf--story-container");t&&t.remove();var r=d.a.create("div",{className:"sf--story-container"}),n=document.querySelector("header > div:nth-child(2) > div:nth-child(2)");if(!n)return e.appendChild(r),r;var a=n.querySelector("button");return a?n.insertBefore(r,a):e.appendChild(r),r}},createStoryButton:function(e,t){Object(j.a)({category:"append",subcategory:"in",event:"b"});var n=d.a.create("a",{className:"sf--story-btn",append:[r.svg.getSvg("download","white",15,15)],download:t,href:e,style:{cursor:"pointer",marginRight:"2px",marginTop:"2px"},on:["mouseover",function(e){if(h){if(!e.altKey&&!e.ctrlKey)return e.preventDefault(),void Object(B.b)(n,{content:s.a.i18n.getMessage("downloadTitle"),defaultWidth:400,defaultHeight:60},{el:{className:"story"}});Object(B.a)(n,{content:s.a.i18n.getMessage("downloadTitle"),defaultWidth:400,defaultHeight:60})}}]});return n},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop(),["sfSkip"].forEach((function(e){for(var t,r=Object(g.a)(e),n=document.querySelectorAll("["+r+"]"),a=0;t=n[a];a++)t.removeAttribute(r)}))},enable:function(){if(this.observer)return this.observer.start();this.observer=new m.a({queries:[{css:'section > div > div > div[style*="scale(1)"] > section > div > div > div > div, section > div:not([style]) > div > div > div',is:"added",callback:function(e){var t=e.added,r=function(){document.querySelectorAll(".sf--story-btn").forEach((function(e){return e.remove()}))};t.forEach((function(e){var t=e.querySelector("video");if(t)r(),N.addBtnVideoStory(t);else{var n=e.querySelector("img");n&&(r(),N.addBtnImageStory(n))}}))}},{css:'div > div > article > div > div:nth-child(2) div[role="button"]',is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)t.dataset.sfSkip>0||(t.dataset.sfSkip="1",N.addDlBtn(t.parentNode,"",t))}},{css:"._5wCQW > video[controls]",is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)t.dataset.sfSkip>0||(t.dataset.sfSkip="1",N.addDlBtn(t.parentNode,"strangeVideo",t))}},{css:'div > div > article > div > div:nth-child(1) div[role="button"]',is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)t.dataset.sfSkip>0||t.querySelector("ul > li")||(t.dataset.sfSkip="1",N.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div > div:nth-child(1)  div[style*="padding-bottom: 177"],\n              div[role="button"] div[style*="padding-bottom: 177"],\n              div[role="button"] div[style*="width: 100%;"],\n              article[role="presentation"] div[style*="padding-bottom: 100%;"],\n              div[role="button"] div[style*="padding-bottom: 100%;"]',is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)t.dataset.sfSkip>0||t.querySelector("ul > li")||(t.dataset.sfSkip="1",N.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div > div:nth-child(2)  div[style*="padding-bottom: 56.2963%"]',is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)t.dataset.sfSkip>0||t.querySelector("ul > li")||(t.dataset.sfSkip="1",N.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div > div[class*="_aatn"] > div > div > div > div ',is:"added",callback:function(e){for(var t,r=e.added,n=0;t=r[n];n++)"1"!==t.dataset.sfSkip&&(t.dataset.sfSkip="1",N.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div div[class*="_aatk"] div[role*="presentation"] ul > li:nth-child(2) > div > div > div > div > div > div  ',is:"added",callback:function(e){for(var t,r=e.added,n=0;t=r[n];n++)"1"!==t.dataset.sfSkip&&(t.dataset.sfSkip="1",N.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div > div:nth-child(1) div[style*="height: calc(100% + 1px); position: absolute; width: 100%;"] > div',is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)t.dataset.sfSkip>0||t.querySelector("ul > li")||(t.dataset.sfSkip="1",N.addDlBtn(t.parentNode,"",t))}},{css:".Embed > .Content.EmbedFrame > .EmbedVideo",is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)if(!(t.dataset.sfSkip>0)){t.dataset.sfSkip="1";var n=Object(w.a)(t,".Embed");n&&(n.dataset.sfSkip="1",N.addDlBtn(n,"embed",n))}}},{css:".Embed > .Content.EmbedFrame.EmbedFrameWithSidecar > .EmbedSidecar > div > div > div + div > div > div > div > ul > li > div:nth-child(1) > div:nth-child(1)",is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)if(!(t.dataset.sfSkip>0)){t.dataset.sfSkip="1";var n=Object(w.a)(t,".Embed");if(n&&n.dataset.sfSkip>0){var a=document.querySelector(".Header");a&&E(a)}N.addDlBtn(t.parentNode,"",t)}}},{css:".Embed",is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)t.dataset.sfSkip>0||(t.dataset.sfSkip="1",N.addDlBtn(t,"embed",t))}},{css:".".concat(p.a.onRemoveClassName),is:"removed",callback:function(e){for(var t,r=0;t=e.removed[r];r++)p.a.onRemoveListener(t)}}]})}}};function q(e){return e.stopPropagation(),s.a.isFirefox?(e.preventDefault(),function(e,t,r){"sf--story-btn"===r?Object(j.a)({category:"download",subcategory:"in",event:"story"}):t.includes("mp4")?Object(j.a)({category:"download",subcategory:"in",event:"video"}):Object(j.a)({category:"download",subcategory:"in",event:"photo"});return Object(O.a)({action:"ffInstagramDownloadMedia",downloadFileUrl:e,filename:t})}(this.href,this.download)):r.downloadOnClick(e,void 0,{el:this})}function E(e){for(var t,r=e.querySelectorAll("."+N.dlBtnClassName),n=0;t=r[n];n++)t.classList.remove(p.a.onRemoveClassName),t.parentNode.removeChild(t)}}),(function(){return!Object(c.a)()||!!/\/\/[^\/]+\.[^\/]+\/p\//.test(location.href)}))}});